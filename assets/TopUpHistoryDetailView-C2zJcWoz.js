import{d as V,a as H,r as v,o as R,c as d,b as s,e as c,F as T,g as u,h as _,f as o,T as C,i as E,t as h,D as N,m as f,u as j,k as B,U as L}from"./index-CqF_l6GU.js";const $=V("topUpHistoryDetailStore",{state:()=>({response:null,error:null,errorMessage:null,errors:[]}),getters:{getResponse:a=>a.response,getError:a=>a.error,getErrorMessage:a=>a.errorMessage,getErrors:a=>a.errors},actions:{async get(a){var i,r,e,n;try{let t=await H.get(`user-portal/top-up-history/${a}`);this.response=t.data??null,this.error=null,this.errorMessage=null,this.errors=[]}catch(t){this.response=null,this.error=t,this.errorMessage=((r=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:r.message)??null,this.errors=((n=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:n.errors)??null}}}}),z={key:0},A={class:"bg-theme pt-14 pb-20"},F=["src"],I={class:"text-center"},P={class:"p-3 relative",style:{top:"-74px"}},q={key:1,class:"pt-14 px-3 pb-20"},G={class:"bg-white rounded-lg shadow-md flex justify-center items-center"},K={__name:"TopUpHistoryDetailView",setup(a){j();const i=B(),r=$(),e=v(null),n=v(null),t=v(!1),x=()=>history.back(),g=async()=>{var p;await r.get(i.params.trx_id),e.value=(p=r.getResponse)==null?void 0:p.data,n.value=r.getErrorMessage,t.value=!1},y=()=>{g()};return R(()=>{g()}),(p,m)=>{const D=u("van-nav-bar"),b=u("van-tag"),l=u("van-cell"),w=u("van-cell-group"),U=u("van-empty"),k=u("van-pull-refresh"),M=L("viewer");return _(),d(T,null,[s(D,{title:"Top Up History Detail",fixed:!0,"left-text":"","left-arrow":"",onClickLeft:x}),s(k,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=S=>t.value=S),"pulling-text":"Pull to refresh","loosing-text":"Pull to refresh","loading-text":"Loading","success-text":"Successfully loaded",onRefresh:y},{default:c(()=>[e.value!=null?(_(),d("div",z,[o("div",A,[C(o("img",{src:e.value.image,alt:"",class:"w-20 h-20 p-1 bg-gray-100 rounded-lg mx-auto mb-3"},null,8,F),[[M]]),o("div",I,[s(b,{color:"#fcfcfc","text-color":`#${e.value.status.color}`,size:"medium",round:""},{default:c(()=>[E(h(e.value.status.text),1)]),_:1},8,["text-color"])])]),o("div",P,[s(w,{inset:"",class:"mx-0 mb-3"},{default:c(()=>[s(l,{title:"Trx ID",value:e.value.trx_id},null,8,["value"]),s(l,{title:"Amount",value:e.value.amount},null,8,["value"]),s(l,{title:"Status"},{value:c(()=>[o("span",{style:N(`color: #${e.value.status.color}`)},h(e.value.status.text),5)]),_:1}),s(l,{title:"Created at",value:e.value.created_at},null,8,["value"]),s(l,{title:"Approved at",value:e.value.approved_at},null,8,["value"]),s(l,{title:"Rejected at",value:e.value.rejected_at},null,8,["value"]),s(l,{title:"Description",value:e.value.description},null,8,["value"])]),_:1})])])):f("",!0),n.value!=null?(_(),d("div",q,[o("div",G,[o("div",null,[s(U,{image:"error",description:n.value,class:"text-center"},null,8,["description"])])])])):f("",!0)]),_:1},8,["modelValue"])],64)}}};export{K as default};
