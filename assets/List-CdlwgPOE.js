import{d as M,a as E,r as _,g as u,h as c,c as x,l as b,p as m,e as r,b as i,j as H,f as p,t as d,F as S,D as P,i as I,m as k}from"./index-CqF_l6GU.js";import{u as A}from"./stationStore-Do9-x91A.js";import{r as j}from"./route-CaxCCS0A.js";const z=M("tickerStore",{state:()=>({response:null,error:null,errorMessage:null,errors:[]}),getters:{getResponse:e=>e.response,getError:e=>e.error,getErrorMessage:e=>e.errorMessage,getErrors:e=>e.errors},actions:{async get(e){var n,o,a,l;try{let t=await E.get("user-portal/ticket",{params:e});this.response=t.data??null,this.error=null,this.errorMessage=null,this.errors=[]}catch(t){this.response=null,this.error=t,this.errorMessage=((o=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:o.message)??null,this.errors=((l=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:l.errors)??null}}}}),D=M("topUpHistoryStore",{state:()=>({response:null,error:null,errorMessage:null,errors:[]}),getters:{getResponse:e=>e.response,getError:e=>e.error,getErrorMessage:e=>e.errorMessage,getErrors:e=>e.errors},actions:{async get(e){var n,o,a,l;try{let t=await E.get("user-portal/top-up-history",{params:e});this.response=t.data??null,this.error=null,this.errorMessage=null,this.errors=[]}catch(t){this.response=null,this.error=t,this.errorMessage=((o=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:o.message)??null,this.errors=((l=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:l.errors)??null}}}}),F=M("walletTransactionStore",{state:()=>({response:null,error:null,errorMessage:null,errors:[]}),getters:{getResponse:e=>e.response,getError:e=>e.error,getErrorMessage:e=>e.errorMessage,getErrors:e=>e.errors},actions:{async get(e){var n,o,a,l;try{let t=await E.get("user-portal/wallet-transaction",{params:e});this.response=t.data??null,this.error=null,this.errorMessage=null,this.errors=[]}catch(t){this.response=null,this.error=t,this.errorMessage=((o=(n=t==null?void 0:t.response)==null?void 0:n.data)==null?void 0:o.message)??null,this.errors=((l=(a=t==null?void 0:t.response)==null?void 0:a.data)==null?void 0:l.errors)??null}}}}),O={routeStore:j.data,stationStore:A(),ticketStore:z(),topUpHistoryStore:D(),walletTransactionStore:F()},W=e=>O[e],J=["src"],G={__name:"RouteItem",props:{list:{type:Array,required:!0},queryParameters:{type:Object,required:!0}},setup(e){const n=e,o=_(n.list),a=_(n.queryParameters),l=new URLSearchParams(a.value).toString();return(t,s)=>{const $=u("van-text-ellipsis"),q=u("van-cell"),h=u("van-cell-group");return c(!0),x(S,null,b(o.value,g=>(c(),m(h,{inset:"",class:"mb-3 mx-0",key:g.slug},{default:r(()=>[i(q,{to:`/route/${g.slug}?${H(l)}`},{icon:r(()=>[p("img",{src:g.icon,alt:"",class:"w-8 h-8 mr-2 mt-1"},null,8,J)]),title:r(()=>[i($,{content:g.title},null,8,["content"])]),label:r(()=>[p("span",null,d(g.text),1)]),_:2},1032,["to"])]),_:2},1024))),128)}}},K=["src"],Q={__name:"StationItem",props:{list:{type:Array,required:!0}},setup(e){return(n,o)=>{const a=u("van-text-ellipsis"),l=u("van-cell"),t=u("van-cell-group");return c(!0),x(S,null,b(e.list,s=>(c(),m(t,{inset:"",class:"mb-3 mx-0",key:s.slug},{default:r(()=>[i(l,{to:`/station/${s.slug}`},{icon:r(()=>[p("img",{src:s.icon,alt:"",class:"w-8 h-8 mr-2 mt-1"},null,8,K)]),title:r(()=>[i(a,{content:s.title},null,8,["content"])]),label:r(()=>[p("span",null,d(s.description),1)]),_:2},1032,["to"])]),_:2},1024))),128)}}},X=["src"],Y={__name:"TicketItem",props:{list:{type:Array,required:!0}},setup(e){return(n,o)=>{const a=u("van-text-ellipsis"),l=u("van-cell"),t=u("van-cell-group");return c(!0),x(S,null,b(e.list,s=>(c(),m(t,{inset:"",class:"mb-3 mx-0",key:s.slug},{default:r(()=>[i(l,{to:`/ticket/${s.ticket_number}`},{icon:r(()=>[p("img",{src:s.icon,alt:"",class:"w-8 h-8 mr-2 mt-1"},null,8,X)]),title:r(()=>[i(a,{content:s.ticket_number},null,8,["content"])]),label:r(()=>[p("span",null,d(s.created_at),1)]),value:r(()=>[p("span",{style:P(`color: #${s.type.color}`)},d(s.type.text),5)]),_:2},1032,["to"])]),_:2},1024))),128)}}},Z=["src"],ee={__name:"TopUpHistoryItem",props:{list:{type:Array,required:!0}},setup(e){return(n,o)=>{const a=u("van-text-ellipsis"),l=u("van-cell"),t=u("van-cell-group");return c(!0),x(S,null,b(e.list,s=>(c(),m(t,{inset:"",class:"mb-3 mx-0",key:s.slug},{default:r(()=>[i(l,{to:`/top-up-history/${s.trx_id}`},{icon:r(()=>[p("img",{src:s.icon,alt:"",class:"w-8 h-8 mr-2 mt-1"},null,8,Z)]),title:r(()=>[i(a,{content:s.trx_id},null,8,["content"])]),label:r(()=>[p("span",null,d(s.created_at),1)]),value:r(()=>[p("span",{style:P(`color: #${s.status.color}`)},d(s.amount),5)]),_:2},1032,["to"])]),_:2},1024))),128)}}},te=["src"],se={__name:"WalletTransactionItem",props:{list:{type:Array,required:!0}},setup(e){return(n,o)=>{const a=u("van-text-ellipsis"),l=u("van-cell"),t=u("van-cell-group");return c(!0),x(S,null,b(e.list,s=>(c(),m(t,{inset:"",class:"mb-3 mx-0",key:s.slug},{default:r(()=>[i(l,{to:`/wallet-transaction/${s.trx_id}`},{icon:r(()=>[p("img",{src:s.icon,alt:"",class:"w-8 h-8 mr-2 mt-1"},null,8,te)]),title:r(()=>[i(a,{content:s.trx_id},null,8,["content"])]),label:r(()=>[p("span",null,d(s.created_at),1)]),value:r(()=>[p("span",{style:P(`color: #${s.method.color}`)},d(s.method.sign)+d(s.amount),5)]),_:2},1032,["to"])]),_:2},1024))),128)}}},re={class:"p-3"},ue={__name:"List",props:{storeName:{type:String,required:!0},queryParameters:{type:Object,required:!0}},setup(e){const n=e,o=_(n.storeName),a=W(n.storeName),l=_(n.queryParameters),t=_(""),s=_([]),$=_(1),q=_(null),h=_(!1),g=_(!1),f=_(!1),T=_(!1),U=_(null),w=async()=>{f.value&&(s.value=[],$.value=1,q.value=null,f.value=!1),l.value.search=t.value,l.value.page=$.value,s.value.push(...a??[]),g.value=!0,h.value=!1,f.value=!1},V=()=>{g.value=!1,h.value=!0,w()},L=()=>{g.value=!1,h.value=!0,f.value=!0,w()};return(le,v)=>{const N=u("van-button"),R=u("van-search"),B=u("van-list"),C=u("van-pull-refresh");return c(),x(S,null,[i(R,{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=y=>t.value=y),"show-action":"",label:"",placeholder:""},{action:r(()=>[i(N,{type:"primary",size:"small",color:"#1CBC9B",class:"mb-1",onClick:L},{default:r(()=>v[4]||(v[4]=[I("Search")])),_:1})]),_:1},8,["modelValue"]),i(C,{modelValue:f.value,"onUpdate:modelValue":v[3]||(v[3]=y=>f.value=y),"pulling-text":"Pull to refresh","loosing-text":"Pull to refresh","loading-text":"Loading","success-text":"Successfully loaded",onRefresh:V},{default:r(()=>[p("div",re,[i(B,{loading:h.value,"onUpdate:loading":v[1]||(v[1]=y=>h.value=y),error:T.value,"onUpdate:error":v[2]||(v[2]=y=>T.value=y),finished:g.value,"loading-text":"Loading","finished-text":"","error-text":U.value,onLoad:w},{default:r(()=>[o.value=="routeStore"?(c(),m(G,{key:0,list:s.value,"query-parameters":n.queryParameters},null,8,["list","query-parameters"])):k("",!0),o.value=="stationStore"?(c(),m(Q,{key:1,list:s.value},null,8,["list"])):k("",!0),o.value=="ticketStore"?(c(),m(Y,{key:2,list:s.value},null,8,["list"])):k("",!0),o.value=="topUpHistoryStore"?(c(),m(ee,{key:3,list:s.value},null,8,["list"])):k("",!0),o.value=="walletTransactionStore"?(c(),m(se,{key:4,list:s.value},null,8,["list"])):k("",!0)]),_:1},8,["loading","error","finished","error-text"])])]),_:1},8,["modelValue"])],64)}}};export{ue as _};
